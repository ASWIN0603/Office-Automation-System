<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>consumable stock</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <style>
      body {
        background-color: white;
      }
      .fixed {
        height: 50px;
      }
      h2 {
        text-align: center;
        margin-top: 10px;
        position: fixed;
        left:35%;
      }
      thead th {
        width: 150px;
      }
      button {
        height: 50px;
        margin-right:10px;
      }
      .footer{
        display:flex;
        margin-left: 39%;
      }
    </style>

  </head>
  <body>
    <div class="fixed" >
      <h2>CONSUMABLE STOCKS</h2>
    </div>
    <div class="table" id="print-content">
      <table class="table">
        <thead class="thead-light">
          <tr>
            <th scope="col">PRODUCT_ID</th>
            <th scope="col">DATE_OF_PURCHASE</th>
            <th scope="col">BILL_INVOICE_NO</th>
            <th scope="col">BILL_DATE</th>
            <th scope="col">EQUIPMENT</th>
            <th scope="col">NO_OF_QTY</th>
            <th scope="col">COST/UNIT</th>
            <th scope="col">TOTAL_COST</th>
            <th scope="col">SUPPLIER_NAME</th>
            <th scope="col">WARRANTY</th>
            <th scope="col">WARRANTY_PERIOD</th>
            <th scope="col">TOTAL_STOCK</th>
            <th scope="col">CONDITION</th>
            <th scope="col">LOCATED_AT</th>
            <th scope="col">TRANSFER_HISTORY</th>
            <th scope="col">REMARKS</th>
            <th scope="col">EDIT</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            {% for query in query %}
            <td>{{query.PRODUCT_ID}}</td>
            <td>{{query.DATE_OF_PURCHASE}}</td>
            <td>{{query.BILL_INVOICE_NO}}</td>
            <td>{{query.BILL_DATE}}</td>
            <td>{{query.EQUIPMENT}}</td>
            <td>{{query.NO_OF_QUANTITY}}</td>
            <td>{{query.COST_PER_UNIT}}</td>
            <td>{{query.TOTAL_COST}}</td>
            <td>{{query.SUPPLIER_NAME}}</td>
            <td>{{query.WARRANTY}}</td>
            <td>{{query.WARRANTY_PERIOD}}</td>
            <td>{{query.TOTAL_STOCK}}</td>
            <td>{{query.CONDITION}}</td>
            <td>{{query.LOCATED_AT}}</td>
            <td>{{query.TRANSFER_HISTORY}}</td>
            <td>{{query.REMARKS}}</td>
            <td><a href="/updatestock/{{query.PRODUCT_ID}}"><button class="btn btn-primary">UPDATE</button> </a></td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    <div class="footer">
    <button type="button" onclick="printContent()" class="btn btn-primary">
      <a class="btn" href="{{url_for('home')}}">Print</a>
    </button>
    <button type="button" class="btn btn-primary">
      <a class="btn" href="{{url_for('home')}}">Logout</a>
    </button>
  </div>
    <script>
      function printContent() {
        var printContents = document.getElementById("print-content").innerHTML;
        var originalContents = document.body.innerHTML;
        document.body.innerHTML = printContents;
        window.print();
        document.body.innerHTML = originalContents;
      }
    </script>
  </body>
</html>
